% -*- mode: LaTeX -*-
\DeclareDatamodelEntrytype{
  article,
  artwork,
  audio,
  bibnote,
  book,
  bookinbook,
  booklet,
  collection,
  commentary,
  customa,
  customb,
  customc,
  customd,
  custome,
  customf,
  inbook,
  incollection,
  inproceedings,
  inreference,
  image,
  jurisdiction,
  legal,
  legislation,
  letter,
  manual,
  misc,
  movie,
  music,
  mvcollection,
  mvbook,
  online,
  patent,
  performance,
  periodical,
  proceedings,
  reference,
  report,
  review,
  set,
  software,
  standard,
  suppbook,
  suppcollection,
  thesis,
  unpublished,
  video,
  xdata}

\DeclareDatamodelField[type=field, datatype=literal]{
  abstract,
  addendum,
  annotation,
  booksubtitle,
  booktitle,
  booktitleaddon,
  chapter,
  edition,
  eid,
  entrysubtype,
  eprintclass,
  eprinttype,
  eventtitle,
  execute,
  gender,
  howpublished,
  hyphenation,
  indexsorttitle,
  indextitle,
  isan,
  isbn,
  ismn,
  isrn,
  issn,
  issue,
  issuesubtitle,
  issuetitle,
  iswc,
  journalsubtitle,
  journaltitle,
  label,
  library,
  mainsubtitle,
  maintitle,
  maintitleaddon,
  nameaddon,
  note,
  number,
  origtitle,
  pagetotal,
  part,
  related,
  relatedtype,
  relatedstring,
  reprinttitle,
  series,
  shorthand,
  shorthandintro,
  shortjournal,
  shortseries,
  shorttitle,
  subtitle,
  title,
  titleaddon,
  usera,
  userb,
  userc,
  userd,
  usere,
  userf,
  venue,
  version,
  volume,
  volumes}

\DeclareDatamodelField[type=field, datatype=literal, skipout]{
  sorttitle,
  sortshorthand,
  sortyear,
  sortkey,
  presort,
  entryset}

\DeclareDatamodelField[type=list, datatype=literal]{
  institution,
  lista,
  listb,
  listc,
  listd,
  liste,
  listf,
  location,
  organization,
  origlocation,
  origpublisher,
  publisher}

\DeclareDatamodelField[type=list, datatype=name]{
  afterword,
  annotator,
  author,
  bookauthor,
  commentator,
  editor,
  editora,
  editorb,
  editorc,
  foreword,
  holder,
  introduction,
  namea,
  nameb,
  namec,
  shortauthor,
  shorteditor,
  translator}

\DeclareDatamodelField[type=list, datatype=name, skipout]{sortname}

\DeclareDatamodelField[type=field, datatype=key]{
  authortype,
  editoratype,
  editorbtype,
  editorctype,
  editortype,
  bookpagination,
  nameatype,
  namebtype,
  namectype,
  origlanguage,
  pagination,
  pubstate,
  type}

\DeclareDatamodelField[type=list, datatype=key]{language}

\DeclareDatamodelField[type=list, datatype=entrykey]{
  crossref,
  xref}

\DeclareDatamodelField[type=list, datatype=entrykey, skipout]{xdata}

\DeclareDatamodelField[type=list, datatype=date]{
  date,
  eventdate,
  origdate,
  urldate}

\DeclareDatamodelField[type=field, datatype=verbatim]{
  doi,
  eprint,
  file,
  url,
  verba,
  verbb,
  verbc}

\DeclareDatamodelField[type=field, datatype=datepart]{
  day,
  endday,
  eventday,
  eventendday,
  origday,
  origendday,
  urlday,
  urlendday,
  month,
  endmonth,
  eventmonth,
  eventendmonth,
  origmonth,
  origendmonth,
  urlmonth,
  urlendmonth,
  year,
  eventyear,
  origyear,
  urlyear}

\DeclareDatamodelField[type=field, datatype=datepart, nullok]{
  urlendyear,
  endyear,
  eventendyear,
  origendyear}

\DeclareDatamodelField[type=field, datatype=csv]{keywords}
\DeclareDatamodelField[type=field, datatype=csv, skipout]{options}
\DeclareDatamodelField[type=field, datatype=range]{pages}

\DeclareDatamodelEntryfields{
  abstract,
  annotation,
  authortype,
  bookpagination,
  crossref,
  entryset,
  entrysubtype,
  execute,
  file,
  gender,
  hyphenation,
  ids,
  indextitle,
  indexsorttitle,
  isan,
  ismn,
  iswc,
  keywords,
  label,
  library,
  lista,
  listb,
  listc,
  listd,
  liste,
  listf,
  nameaddon,
  options,
  origday,
  origendday,
  origendmonth,
  origendyear,
  origmonth,
  origyear,
  origlocation,
  origpublisher,
  origtitle,
  pagination,
  presort,
  related,
  relatedtype,
  relatedstring,
  shortauthor,
  shorteditor,
  shorthand,
  shorthandintro,
  shortjournal,
  shortseries,
  shorttitle,
  sortkey,
  sortname,
  sortshorthand,
  sorttitle,
  sortyear,
  usera,
  userb,
  userc,
  userd,
  usere,
  userf,
  verba,
  verbb,
  verbc,
  xdata,
  xref}

\DeclareDatamodelEntryfields[set]{
  entryset,
  crossref}

\DeclareDatamodelEntryfields[article]{
  author,
  journaltitle,
  title,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  annotator,
  commentator,
  doi,
  editor,
  editora,
  editorb,
  editorc,
  editoratype,
  editorbtype,
  editorctype,
  eid,
  eprint,
  eprintclass,
  eprinttype,
  issn,
  issue,
  issuetitle,
  issuesubtitle,
  journalsubtitle,
  language,
  note,
  number,
  origlanguage,
  pages,
  pubstate,
  series,
  subtitle,
  titleaddon,
  translator,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  version,
  volume}

\DeclareDatamodelEntryfields[bibnote]{note}

\DeclareDatamodelEntryfields[book]{
  author,
  title,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  afterword,
  annotator,
  chapter,
  commentator,
  doi,
  edition,
  editor,
  editora,
  editorb,
  editorc,
  editoratype,
  editorbtype,
  editorctype,
  eprint,
  eprintclass,
  eprinttype,
  foreword,
  introduction,
  isbn,
  language,
  location,
  maintitle,
  maintitleaddon,
  mainsubtitle,
  note,
  number,
  origlanguage,
  pages,
  pagetotal,
  part,
  publisher,
  pubstate,
  series,
  subtitle,
  titleaddon,
  translator,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  volume,
  volumes}

\DeclareDatamodelEntryfields[mvbook]{
  author,
  title,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  afterword,
  annotator,
  commentator,
  doi,
  edition,
  editor,
  editora,
  editorb,
  editorc,
  editoratype,
  editorbtype,
  editorctype,
  eprint,
  eprintclass,
  eprinttype,
  foreword,
  introduction,
  isbn,
  language,
  location,
  note,
  number,
  origlanguage,
  publisher,
  pubstate,
  subtitle,
  titleaddon,
  translator,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  volume,
  volumes}

\DeclareDatamodelEntryfields[inbook,bookinbook,suppbook]{
  author,
  title,
  booktitle,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  afterword,
  annotator,
  bookauthor,
  booksubtitle,
  booktitleaddon,
  chapter,
  commentator,
  doi,
  edition,
  editor,
  editora,
  editorb,
  editorc,
  editoratype,
  editorbtype,
  editorctype,
  eprint,
  eprintclass,
  eprinttype,
  foreword,
  introduction,
  isbn,
  language,
  location,
  mainsubtitle,
  maintitle,
  maintitleaddon,
  note,
  number,
  origlanguage,
  part,
  publisher,
  pages,
  pubstate,
  series,
  subtitle,
  titleaddon,
  translator,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  volume,
  volumes}

\DeclareDatamodelEntryfields[booklet]{
  author,
  editor,
  title,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  chapter,
  doi,
  eprint,
  eprintclass,
  eprinttype,
  howpublished,
  language,
  location,
  note,
  pages,
  pagetotal,
  pubstate,
  subtitle,
  titleaddon,
  type,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear}

\DeclareDatamodelEntryfields[collection,reference]{
  editor,
  title,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  afterword,
  annotator,
  chapter,
  commentator,
  doi,
  edition,
  editora,
  editorb,
  editorc,
  editoratype,
  editorbtype,
  editorctype,
  eprint,
  eprintclass,
  eprinttype,
  foreword,
  introduction,
  isbn,
  language,
  location,
  mainsubtitle,
  maintitle,
  maintitleaddon,
  note,
  number,
  origlanguage,
  pages,
  pagetotal,
  part,
  publisher,
  pubstate,
  series,
  subtitle,
  titleaddon,
  translator,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  volume,
  volumes}

\DeclareDatamodelEntryfields[mvcollection,mvreference]{
  author,
  title,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  afterword,
  annotator,
  commentator,
  doi,
  edition,
  editor,
  editora,
  editorb,
  editorc,
  editoratype,
  editorbtype,
  editorctype,
  eprint,
  eprintclass,
  eprinttype,
  foreword,
  introduction,
  isbn,
  language,
  location,
  note,
  number,
  origlanguage,
  publisher,
  pubstate,
  subtitle,
  titleaddon,
  translator,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  volume,
  volumes}

\DeclareDatamodelEntryfields[incollection,suppcollection,inreference]{
  author,
  editor,
  title,
  booktitle,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  afterword,
  annotator,
  booksubtitle,
  booktitleaddon,
  chapter,
  commentator,
  doi,
  edition,
  editora,
  editorb,
  editorc,
  editoratype,
  editorbtype,
  editorctype,
  eprint,
  eprintclass,
  eprinttype,
  foreword,
  introduction,
  isbn,
  language,
  location,
  mainsubtitle,
  maintitle,
  maintitleaddon,
  note,
  number,
  origlanguage,
  pages,
  part,
  publisher,
  pubstate,
  series,
  subtitle,
  titleaddon,
  translator,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  volume,
  volumes}

\DeclareDatamodelEntryfields[manual]{
  title,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  author,
  chapter,
  doi,
  edition,
  editor,
  eprint,
  eprintclass,
  eprinttype,
  isbn,
  language,
  location,
  note,
  number,
  organization,
  pages,
  pagetotal,
  publisher,
  pubstate,
  series,
  subtitle,
  titleaddon,
  type,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  version}

\DeclareDatamodelEntryfields[misc]{
  title,
  day,
  endday,
  endmonth,
  endyear,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  author,
  doi,
  editor,
  eprint,
  eprintclass,
  eprinttype,
  howpublished,
  language,
  location,
  note,
  organization,
  pubstate,
  subtitle,
  titleaddon,
  type,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  version}

\DeclareDatamodelEntryfields[online]{
  title,
  url,
  addendum,
  author,
  editor,
  language,
  month,
  note,
  organization,
  pubstate,
  subtitle,
  titleaddon,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  version,
  year}

\DeclareDatamodelEntryfields[patent]{
  author,
  title,
  number,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  doi,
  eprint,
  eprintclass,
  eprinttype,
  holder,
  location,
  note,
  pubstate,
  subtitle,
  titleaddon,
  type,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  version}

\DeclareDatamodelEntryfields[periodical]{
  editor,
  title,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  doi,
  editora,
  editorb,
  editorc,
  editoratype,
  editorbtype,
  editorctype,
  eprint,
  eprintclass,
  eprinttype,
  issn,
  issue,
  issuesubtitle,
  issuetitle,
  language,
  note,
  number,
  pubstate,
  series,
  subtitle,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  volume}

\DeclareDatamodelEntryfields[mvproceedings]{
  editor,
  title,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  doi,
  eprint,
  eprintclass,
  eprinttype,
  eventday,
  eventendday,
  eventendmonth,
  eventendyear,
  eventmonth,
  eventyear,
  eventtitle,
  isbn,
  language,
  location,
  note,
  number,
  organization,
  pagetotal,
  publisher,
  pubstate,
  series,
  subtitle,
  titleaddon,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  venue,
  volumes}

\DeclareDatamodelEntryfields[proceedings]{
  editor,
  title,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  chapter,
  doi,
  eprint,
  eprintclass,
  eprinttype,
  eventday,
  eventendday,
  eventendmonth,
  eventendyear,
  eventmonth,
  eventyear,
  eventtitle,
  isbn,
  language,
  location,
  mainsubtitle,
  maintitle,
  maintitleaddon,
  note,
  number,
  organization,
  pages,
  pagetotal,
  part,
  publisher,
  pubstate,
  series,
  subtitle,
  titleaddon,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  venue,
  volume,
  volumes}

\DeclareDatamodelEntryfields[inproceedings]{
  author,
  editor,
  title,
  booktitle,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  booksubtitle,
  booktitleaddon,
  chapter,
  doi,
  eprint,
  eprintclass,
  eprinttype,
  eventday,
  eventendday,
  eventendmonth,
  eventendyear,
  eventmonth,
  eventyear,
  eventtitle,
  isbn,
  language,
  location,
  mainsubtitle,
  maintitle,
  maintitleaddon,
  note,
  number,
  organization,
  pages,
  part,
  publisher,
  pubstate,
  series,
  subtitle,
  titleaddon,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  venue,
  volume,
  volumes}

\DeclareDatamodelEntryfields[report]{
  author,
  title,
  type,
  institution,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  chapter,
  doi,
  eprint,
  eprintclass,
  eprinttype,
  isrn,
  language,
  location,
  note,
  number,
  pages,
  pagetotal,
  pubstate,
  subtitle,
  titleaddon,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear,
  version}

\DeclareDatamodelEntryfields[thesis]{
  author,
  title,
  type,
  institution,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  chapter,
  doi,
  eprint,
  eprintclass,
  eprinttype,
  language,
  location,
  note,
  pages,
  pagetotal,
  pubstate,
  subtitle,
  titleaddon,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear}

\DeclareDatamodelEntryfields[unpublished]{
  author,
  title,
  day,
  endday,
  endmonth,
  endyear,
  month,
  year,
  addendum,
  howpublished,
  language,
  location,
  note,
  pubstate,
  subtitle,
  titleaddon,
  url,
  urlday,
  urlendday,
  urlendmonth,
  urlendyear,
  urlmonth,
  urlyear}

\DeclareDatamodelConstraints[
  article,
  book,
  inbook,
  bookinbook,
  suppbook,
  booklet,
  collection,
  incollection,
  suppcollection,
  manual,
  misc,
  mvbook,
  mvcollection,
  online,
  patent,
  periodical,
  suppperiodical,
  proceedings,
  inproceedings,
  reference,
  inreference,
  report,
  set,
  thesis,
  unpublished]{
    \constraint[type=mandatory]{
      \constraintfieldsxor{
        \constraintfield[preferred=true]{date}
        \constraintfield{year}
      }
    }
  }

\DeclareDatamodelConstraints[set]{
  \constraint[type=mandatory]{
    \constraintfield{entryset}
    \constraintfield{crossref}
  }
}

\DeclareDatamodelConstraints[article]{
  \constraint[type=mandatory]{
    \constraintfield{author}
    \constraintfield{journaltitle}
    \constraintfield{title}
  }
}

\DeclareDatamodelConstraints[book,mvbook,mvcollection,mvreference]{
  \constraint[type=mandatory]{
    \constraintfield{author}
    \constraintfield{title}
  }
}

\DeclareDatamodelConstraints[inbook,bookinbook,suppbook]{
  \constraint[type=mandatory]{
    \constraintfield{author}
    \constraintfield{title}
    \constraintfield{booktitle}
  }
}

\DeclareDatamodelConstraints[booklet]{
  \constraint[type=mandatory]{
    \constraintfieldsor{
      \constraintfield{author}
      \constraintfield{editor}
    }
    \constraintfield{title}
  }
}

\DeclareDatamodelConstraints[collection,reference]{
  \constraint[type=mandatory]{
    \constraintfield{editor}
    \constraintfield{title}
  }
}

\DeclareDatamodelConstraints[incollection,suppcollection,inreference]{
  \constraint[type=mandatory]{
    \constraintfield{author}
    \constraintfield{editor}
    \constraintfield{title}
    \constraintfield{booktitle}
  }
}

\DeclareDatamodelConstraints[manual]{
  \constraint[type=mandatory]{
    \constraintfield{title}
  }
}

\DeclareDatamodelConstraints[misc]{
  \constraint[type=mandatory]{
    \constraintfield{title}
  }
}

\DeclareDatamodelConstraints[online]{
  \constraint[type=mandatory]{
    \constraintfield{title}
    \constraintfield{url}
  }
}

\DeclareDatamodelConstraints[patent]{
  \constraint[type=mandatory]{
    \constraintfield{author}
    \constraintfield{title}
    \constraintfield{number}
  }
}

\DeclareDatamodelConstraints[periodical]{
  \constraint[type=mandatory]{
    \constraintfield{editor}
    \constraintfield{title}
  }
}

\DeclareDatamodelConstraints[proceedings,mvproceedings]{
  \constraint[type=mandatory]{
    \constraintfield{editor}
    \constraintfield{title}
  }
}

\DeclareDatamodelConstraints[inproceedings]{
  \constraint[type=mandatory]{
    \constraintfield{author}
    \constraintfield{editor}
    \constraintfield{title}
    \constraintfield{booktitle}
  }
}

\DeclareDatamodelConstraints[report]{
  \constraint[type=mandatory]{
    \constraintfield{author}
    \constraintfield{title}
    \constraintfield{type}
    \constraintfield{institution}
  }
}

\DeclareDatamodelConstraints[thesis]{
  \constraint[type=mandatory]{
    \constraintfield{author}
    \constraintfield{title}
    \constraintfield{type}
    \constraintfield{institution}
  }
}

\DeclareDatamodelConstraints[unpublished]{
  \constraint[type=mandatory]{
    \constraintfield{author}
    \constraintfield{title}
  }
}

\DeclareDatamodelConstraints{
  \constraint[type=data, datatype=isbn]{
    \constraintfield{isbn}
  }
  \constraint[type=data, datatype=issn]{
    \constraintfield{issn}
  }
  \constraint[type=data, datatype=ismn]{
    \constraintfield{ismn}
  }
}
